(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},3334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(8748),r(596),r(6271),r(5866);var s=r(3191),a=r(8716),i=r(7922),o=r.n(i),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8748)),"C:\\Users\\hp\\Desktop\\n\\client\\app\\admin\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,596)),"C:\\Users\\hp\\Desktop\\n\\client\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6271)),"C:\\Users\\hp\\Desktop\\n\\client\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\hp\\Desktop\\n\\client\\app\\admin\\page.tsx"],u="/admin/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1554:(e,t,r)=>{Promise.resolve().then(r.bind(r,2802))},5070:(e,t,r)=>{Promise.resolve().then(r.bind(r,9340))},5779:(e,t,r)=>{Promise.resolve().then(r.bind(r,5971)),Promise.resolve().then(r.t.bind(r,2481,23))},9488:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},2802:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,dynamic:()=>i,revalidate:()=>o});var s=r(326),a=r(2957);let i="force-dynamic",o=0;function n({children:e}){return s.jsx(a.Z,{children:s.jsx("div",{className:"min-h-screen p-4 md:p-6",children:e})})}},9340:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>U,dynamic:()=>N,revalidate:()=>P});var s=r(326),a=r(7577),i=r(57),o=r(6824),n=r(2196),l=r(8144),d=r(772),c=r(4432),u=r(2881);/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,u.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),p=(0,u.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var h=r(5515),x=r(6418),g=r(9436),f=r(9322),b=r(5971),y=r(5047),v=r(9029),j=r.n(v);function w({user:e,onClose:t}){return(0,s.jsxs)("aside",{className:"w-80 bg-[#1e293b] border-l border-gray-700 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 bg-[#0f172a] border-b border-gray-700",children:[s.jsx("h2",{className:"font-semibold",children:"User Info"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:"✖"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-6",children:[e.photo?s.jsx(j(),{src:e.photo,alt:"User",width:100,height:100,className:"rounded-full object-cover"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-700 flex items-center justify-center text-3xl",children:"\uD83D\uDC64"}),s.jsx("h3",{className:"mt-4 text-lg font-bold",children:e.name}),s.jsx("p",{className:"text-sm text-gray-400",children:e.email})]}),(0,s.jsxs)("div",{className:"p-6 space-y-3 text-sm",children:[e.createdAt&&(0,s.jsxs)("p",{children:[s.jsx("span",{className:"font-semibold",children:"Joined:"})," ",new Date(e.createdAt).toLocaleDateString()]}),(0,s.jsxs)("p",{children:[s.jsx("span",{className:"font-semibold",children:"Referrals:"})," ",Array.isArray(e.referrals)?e.referrals.length:e.referrals||0]})]})]})}let N="force-dynamic",P=0,k={en:{searchUsers:"Search users…",logout:"Logout",selectUser:"Select a user to start chatting",pickSomeone:"Pick someone from the left \uD83D\uDC48",typeMessage:"Type a message",send:"Send",discard:"Discard",sending:"Sending…"},zh:{searchUsers:"搜索用户…",logout:"退出",selectUser:"选择用户开始聊天",pickSomeone:"从左边选择一个人 \uD83D\uDC48",typeMessage:"输入消息",send:"发送",discard:"丢弃",sending:"发送中…"}},S="http://localhost:8000";function C(e){return e?e.startsWith("http")?e:`${S}${e.startsWith("/")?e:`/${e}`}`:""}function U(){let e=(0,y.useRouter)(),{lang:t,setLang:r}=(0,b.Z)(),i=(0,a.useMemo)(()=>"",[]),u=(0,a.useMemo)(()=>"",[]),[v,j]=(0,a.useState)([]),[N,P]=(0,a.useState)(""),[S,U]=(0,a.useState)(null),[_,D]=(0,a.useState)([]),[z,T]=(0,a.useState)(""),[q,R]=(0,a.useState)(!1),[E,O]=(0,a.useState)(null),[M,$]=(0,a.useState)(!1),[A,L]=(0,a.useState)(null),I=(0,a.useRef)(null),G=(0,a.useRef)(null),Z=v.filter(e=>[e.name,e.email].filter(Boolean).join(" ").toLowerCase().includes(N.toLowerCase())),B=async()=>{if(S&&z.trim())try{let e=await o.xU.sendMessage({to:S._id,message:z.trim(),type:"text"},{token:u,senderId:i});D(t=>[...t,{...e,sender:i,receiver:S._id,fileUrl:C(e.fileUrl)}]),T(""),R(!1)}catch(e){console.error("sendMessage error",e)}},W=async e=>{if(S){$(!0);try{let t=new FormData;t.append("file",e);let{fileUrl:r}=await o.xU.upload(t,u),s=e.type.startsWith("audio")?"audio":"image",a=await o.xU.sendMessage({to:S._id,fileUrl:r,type:s},{token:u,senderId:i});D(e=>e.some(e=>e._id===a._id)?e:[...e,{...a,sender:i,receiver:S._id,fileUrl:C(a.fileUrl)}]),L(null)}catch(e){console.error("upload/send error",e)}finally{$(!1)}}},F=async()=>{if(!A?.blob)return;let e=new File([A.blob],"voice.webm",{type:"audio/webm"});await W(e)},V=async e=>{U(e),localStorage.setItem("selectedUserId",e._id),await fetch(`http://localhost:8000/api/chat/mark-read/${e._id}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),j(t=>t.map(t=>t._id===e._id?{...t,unread:0}:t))},J=async e=>{try{let t=await o.BG.getById(e,u);O(t)}catch(e){console.error("Failed to load profile",e)}};return(0,s.jsxs)("div",{className:"h-screen grid grid-cols-1 md:grid-cols-[20rem_1fr] gap-3 p-3",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur flex flex-col",children:[(0,s.jsxs)("div",{className:"p-3 flex items-center gap-2 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(m,{size:16,className:"opacity-70"}),s.jsx(c.I,{placeholder:k[t].searchUsers,value:N,onChange:e=>P(e.target.value),className:"bg-white/10 text-white placeholder:text-white/60 border-white/20"})]}),(0,s.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"bg-white/10 border border-white/20 rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"en",children:"EN"}),s.jsx("option",{value:"zh",children:"中文"})]}),s.jsx(d.z,{variant:"ghost",size:"icon",onClick:()=>{localStorage.clear(),e.replace("/login")},title:k[t].logout,children:s.jsx(p,{size:18})})]}),s.jsx("div",{className:"overflow-y-auto flex-1",children:Z.map(e=>(0,s.jsxs)("button",{onClick:()=>V(e),className:`w-full text-left px-3 py-2 flex items-center gap-3 hover:bg-white/10 transition ${S?._id===e._id?"bg-white/10":""}`,children:[e.photo?s.jsx("img",{src:e.photo,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:e.name?.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:e.name}),s.jsx("div",{className:"text-xs opacity-70 truncate",children:e.email})]}),e.unread?s.jsx("span",{className:"ml-auto text-xs px-2 py-0.5 rounded-full bg-blue-600",children:e.unread}):null]},e._id))})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 backdrop-blur flex flex-col",children:[s.jsx("div",{className:"p-3 border-b border-white/10 flex items-center gap-3",children:S?(0,s.jsxs)(s.Fragment,{children:[S.photo?s.jsx("img",{src:S.photo,alt:S.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:S.name?.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"leading-tight flex-1",children:[s.jsx("div",{className:"font-semibold",children:S.name}),s.jsx("div",{className:"text-xs opacity-70",children:S.email})]}),s.jsx(d.z,{size:"sm",variant:"ghost",onClick:()=>J(S._id),children:"View Profile"})]}):s.jsx("div",{className:"opacity-70",children:k[t].selectUser})}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 max-h-[calc(100vh-12rem)]",children:[S?_.map(e=>s.jsx(n.Z,{msg:e,me:i},e._id||`${e.sender}-${e.createdAt}`)):s.jsx("div",{className:"h-full grid place-items-center opacity-70",children:k[t].pickSomeone}),s.jsx("div",{ref:I})]}),S&&(0,s.jsxs)("div",{className:"p-3 border-t border-white/10",children:[A&&(0,s.jsxs)("div",{className:"mb-2 flex items-center gap-3 rounded-xl border border-white/10 p-2 bg-white/5",children:["image"===A.kind?A.url?s.jsx("img",{src:A.url,alt:"Preview",className:"max-h-32 rounded-lg object-contain"}):s.jsx("div",{className:"w-20 h-20 rounded-lg bg-blue-600 flex items-center justify-center text-white font-semibold",children:"?"}):s.jsx("audio",{src:A.url,controls:!0,className:"w-64"}),(0,s.jsxs)("div",{className:"ml-auto flex gap-2",children:[s.jsx(d.z,{onClick:()=>L(null),variant:"ghost",className:"border border-white/10",children:k[t].discard}),"audio"===A.kind?s.jsx(d.z,{onClick:F,disabled:M,children:M?k[t].sending:k[t].send}):s.jsx(d.z,{onClick:async()=>{A.blob&&await W(A.blob)},disabled:M,children:M?k[t].sending:k[t].send})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(d.z,{size:"icon",variant:"ghost",onClick:()=>R(e=>!e),title:"Emoji",children:s.jsx(h.Z,{size:18})}),s.jsx(l.Z,{onStop:e=>{L({url:URL.createObjectURL(e),kind:"audio",blob:e})}}),s.jsx("input",{ref:G,type:"file",accept:"image/*,audio/*","data-testid":"chat-file-input",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&(t.type.startsWith("audio")?L({url:URL.createObjectURL(t),kind:"audio",blob:t}):L({url:URL.createObjectURL(t),kind:"image",blob:t}))}}),s.jsx(d.z,{size:"icon",variant:"ghost",onClick:()=>G.current?.click(),title:"Attach",children:s.jsx(x.Z,{size:18})}),s.jsx(c.I,{placeholder:k[t].typeMessage,value:z,onChange:e=>T(e.target.value),onKeyDown:e=>{"Enter"===e.key&&B()},className:"flex-1 bg-white/10 text-white placeholder:text-white/60 border-white/20"}),(0,s.jsxs)(d.z,{onClick:B,disabled:!z.trim(),children:[s.jsx(g.Z,{size:16,className:"mr-1"}),k[t].send]})]}),q&&s.jsx("div",{className:"mt-2",children:s.jsx(f.ZP,{onEmojiClick:e=>T(t=>t+e.emoji)})})]}),E&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-end z-50",children:s.jsx(w,{user:E,onClose:()=>O(null)})})]})]})}console.log(S),(0,i.ZP)(S,{autoConnect:!0})},2196:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(326),a=r(7577);function i({msg:e,me:t}){let[r,i]=(0,a.useState)(!1),o=e.sender===t,n=new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=e.fileUrl?.startsWith("http")?e.fileUrl:`http://localhost:8000${e.fileUrl}`;return console.log(l),(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:`my-2 flex ${o?"justify-end":"justify-start"}`,children:(0,s.jsxs)("div",{className:"max-w-[75%]",children:[s.jsx("div",{className:`px-3 py-2 rounded-2xl shadow-md text-sm ${o?"bg-blue-600 text-white rounded-br-none":"bg-[#24344d] text-gray-100 rounded-bl-none"}`,children:"image"===e.type?s.jsx("img",{src:l,alt:"sent",className:"rounded-lg max-h-64 object-cover cursor-pointer",onClick:()=>i(!0)}):"audio"===e.type?s.jsx("audio",{src:l,controls:!0,className:"w-56"}):s.jsx("span",{children:e.message})}),s.jsx("div",{className:`text-[10px] mt-1 ${o?"text-right":"text-left"} text-gray-400`,children:n})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",onClick:()=>i(!1),children:s.jsx("img",{src:l,alt:"preview",className:"max-h-[90vh] max-w-[90vw] object-contain rounded-lg"})})]})}},2957:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(326),a=r(7577),i=r(5047);function o({children:e}){(0,i.useRouter)(),(0,i.usePathname)();let[t,r]=(0,a.useState)(!1);return t?s.jsx(s.Fragment,{children:e}):null}},8144:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(326),a=r(7577);function i({onStop:e}){let t=(0,a.useRef)(null),r=(0,a.useRef)([]),[i,o]=(0,a.useState)(!1),n=async()=>{let s=await navigator.mediaDevices.getUserMedia({audio:!0}),a=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")?"audio/ogg;codecs=opus":"audio/webm",i=new MediaRecorder(s,{mimeType:a});t.current=i,r.current=[],i.ondataavailable=e=>{e.data.size>0&&r.current.push(e.data)},i.onstop=()=>{e(new Blob(r.current,{type:a})),s.getTracks().forEach(e=>e.stop())},i.start(),o(!0)};return s.jsx("button",{onClick:i?()=>{t.current?.stop(),o(!1)}:n,className:`px-3 py-2 rounded-full text-sm ${i?"bg-red-600":"bg-blue-600"}`,title:i?"Stop":"Record voice",children:i?"■ Stop":"● Voice"})}},772:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(326),a=r(7577),i=r(6438),o=r(9360),n=r(7863);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...o},d)=>{let c=a?i.g7:"button";return s.jsx(c,{className:(0,n.cn)(l({variant:t,size:r,className:e})),ref:d,...o})});d.displayName="Button"},4432:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(326),a=r(7577),i=r(7863);let o=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));o.displayName="Input"},5971:(e,t,r)=>{"use strict";r.d(t,{LanguageProvider:()=>n,Z:()=>l});var s=r(326),a=r(7577);let i={en:{welcomeTitle:"Welcome to Crypto Royal!",welcomeMessage:"Hey {name}, we are thrilled to have you on board! Our platform is designed to help you achieve your financial goals through smart investing and expert insights. Get started by exploring our resources, learning about our investment options, and connecting with our community. We're here to support you every step of the way. Happy investing!",shares:"Shares",referrals:"Referrals",latestMessages:"Latest Messages from Admin"},zh:{welcomeTitle:"欢迎来到 Crypto Royal!",welcomeMessage:"你好 {name}, 我们很高兴您能加入我们！我们的平台旨在通过智能投资和专家见解帮助您实现财务目标。您可以先探索我们的资源，了解投资选项，并与社区互动。我们会在每一步为您提供支持。祝您投资顺利！",shares:"分享次数",referrals:"邀请好友",latestMessages:"管理员的最新消息"}},o=(0,a.createContext)(null);function n({children:e}){let[t,r]=(0,a.useState)("en"),n={lang:t,setLang:r,t:i[t]};return s.jsx(o.Provider,{value:n,children:e})}let l=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useLanguage must be used inside LanguageProvider");return e}},6824:(e,t,r)=>{"use strict";r.d(t,{BG:()=>n,iJ:()=>d,xU:()=>l});let s="http://localhost:8000/api";function a(){return{adminId:"",userId:""}}async function i(e){if(204===e.status)return null;let t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}}async function o(e,t={}){if(!s)throw Error("Missing NEXT_PUBLIC_API_URL");let r=t.body instanceof FormData,a=r?{}:{"Content-Type":"application/json"},o=t.token||"";o&&(a.Authorization=`Bearer ${o}`);let n=await fetch(`${s}${e}`,{method:t.method||"GET",headers:a,body:t.body?r?t.body:JSON.stringify(t.body):void 0});if(!n.ok){let e=`Request failed: ${n.status}`;try{let t=await n.json();t?.message?e=t.message:"string"==typeof t&&(e=t)}catch{try{let t=await n.text();t&&(e=t)}catch{}}throw Error(e)}return await i(n)}let n={me:e=>o("/users/profile",{method:"GET",token:e}),getById:(e,t)=>o(`/users/${e}`,{method:"GET",token:t}),search:(e,t)=>o(`/users/search?q=${encodeURIComponent(e)}`,{method:"GET",token:t}),changePassword:e=>o("/users/password/change",{method:"POST",body:e}),requestPasswordOtp:()=>o("/users/password/request-otp",{method:"POST"}),resetPasswordWithOtp:e=>o("/users/password/reset-otp",{method:"POST",body:e}),updateProfile:(e,t)=>o("/users/profile",{method:"PUT",body:e,token:t}),stats:e=>o("/users/me/stats",{method:"GET",token:e}),unread:e=>o("/users/messages/unread",{method:"GET",token:e})},l={getConversation:(e,t)=>o(`/chat/${e}`,{method:"GET",token:t}),sendMessage:(e,t)=>{let{adminId:r,userId:s}=a(),i=t?.senderId||r||s||"";if(console.log("\uD83D\uDCE4 Sending message:",{sender:i,receiver:e.to,message:e.message,fileUrl:e.fileUrl,type:e.type}),!e.to)throw Error("Receiver ID (data.to) is missing!");return o("/chat/send",{method:"POST",body:{sender:i,receiver:e.to,message:e.message||"",fileUrl:e.fileUrl||"",type:e.type||"text"},token:t?.token})},upload:async(e,t)=>{let r=await o("/chat/upload",{method:"POST",body:e,token:t}),s=r?.fileUrl||r?.url||"";if(!s)throw Error("Upload failed: missing fileUrl");return{fileUrl:s}},removeUser:(e,t)=>o(`/chat/remove/${e}`,{method:"DELETE",token:t}),getConversations:async e=>{let{userId:t}=a();if(!t)return[];let r=await o(`/chat/${t}`,{method:"GET",token:e});if(!Array.isArray(r)||0===r.length)return[];let s=r[r.length-1],i=s?.message||(s?.type==="image"?"[Image]":s?.type==="audio"?"[Audio]":s?.type==="emoji"?"[Emoji]":"");return[{_id:s?._id||`conv-${t}`,userId:t,lastMessage:i||"",updatedAt:s?.createdAt||new Date().toISOString()}]}},d={register:e=>o("/auth/register",{method:"POST",body:e}),verifyOtp:e=>o("/auth/verify-otp",{method:"POST",body:e}),login:async e=>{let t=await o("/auth/login",{method:"POST",body:e}),r=t?.token||t?.accessToken||"",s={_id:t?._id||t?.user?._id||"",name:t?.name||t?.user?.name||"",email:t?.email||t?.user?.email||"",photo:t?.photo||t?.user?.photo||void 0,role:t?.role||t?.user?.role||void 0,createdAt:t?.createdAt||t?.user?.createdAt||void 0};if(!r||!s._id)throw Error("Invalid login response from server");return{token:r,user:s}},forgotPassword:e=>o("/auth/forgot-password",{method:"POST",body:e}),resetPassword:(e,t)=>o("/auth/reset-password",{method:"POST",body:e,token:t}),resendOtp:e=>o("/auth/resend-otp",{method:"POST",body:e})}},7863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(1135),a=r(1009);function i(...e){return(0,a.m6)((0,s.W)(e))}},9029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return n}});let s=r(1174),a=r(3078),i=r(2481),o=s._(r(6820));function n(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=i.Image},596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>d,dynamic:()=>n,revalidate:()=>l});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\layout.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let n=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\layout.tsx#dynamic`),l=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\layout.tsx#revalidate`),d=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\layout.tsx#default`)},8748:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>d,dynamic:()=>n,revalidate:()=>l});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\page.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let n=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\page.tsx#dynamic`),l=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\page.tsx#revalidate`),d=(0,s.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\app\admin\page.tsx#default`)},6271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var s=r(9510);r(7272);var a=r(8570);let i=(0,a.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\contexts\LanguageContext.tsx`),{__esModule:o,$$typeof:n}=i;i.default;let l=(0,a.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\contexts\LanguageContext.tsx#LanguageProvider`);(0,a.createProxy)(String.raw`C:\Users\hp\Desktop\n\client\contexts\LanguageContext.tsx#useLanguage`);var d=r(7710);let c={title:"Crypto Royal",description:"Beautiful investment dashboard",icons:{icon:[{url:"/logo.png"}]}};function u({children:e}){return s.jsx("html",{lang:"en",className:"h-full",children:s.jsx("body",{className:"h-full bg-gray-950 text-white",children:s.jsx(l,{children:(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[s.jsx("header",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(d.default,{src:"/logo.png",alt:"CryptoRoyal Logo",width:40,height:40,className:"rounded w-8 h-8 sm:w-10 sm:h-10",priority:!0}),s.jsx("span",{className:"text-lg font-bold text-brand-200 sm:text-xl",children:"Crypto Royal"})]})}),s.jsx("main",{className:"flex-1 w-full max-w-screen-xl mx-auto px-4 py-4 sm:px-6 sm:py-6",children:e})]})})})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[583,286],()=>r(3334));module.exports=s})();